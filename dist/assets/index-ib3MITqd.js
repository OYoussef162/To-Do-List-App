(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const c of n)if(c.type==="childList")for(const l of c.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function s(n){const c={};return n.integrity&&(c.integrity=n.integrity),n.referrerPolicy&&(c.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?c.credentials="include":n.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(n){if(n.ep)return;n.ep=!0;const c=s(n);fetch(n.href,c)}})();const L=document.querySelector(".DarkThemeToggle"),k=document.querySelector(".App"),p=document.querySelector(".TaskSearchBar__input"),d=document.querySelector(".TaskList__list"),u=document.querySelector(".TaskList__link"),f=document.querySelector(".TaskSearchBar__button"),_=()=>document.querySelectorAll(".TaskList__deleteIcon"),T=()=>document.querySelectorAll(".TaskList__checkbox"),g=()=>{k.classList.toggle("App--isDark"),i("darkModeFlag",k.classList.contains("App--isDark"))},o=t=>{const e=localStorage.getItem(t);return e?JSON.parse(e):!1},v=t=>{let e="";t.forEach(s=>{e+=`<li class="TaskList__taskContent${s.isCompleted?" TaskList__taskContent--isActive":""}">
  <div class="TaskList__checkbox" tabindex="0" role="button">
  <img class="TaskList__checkboxImage" src="./assets/icon-checkmark.svg"  alt="checkmark-icon"/>
  </div>
  <div class="TaskList__valueContent">
  <p class="TaskList__value">${s.value}</p>
  <img src="./assets/icon-basket.svg" class="TaskList__deleteIcon" alt="basket-icon"></div>
  </li> `}),d.innerHTML=e,p.value=""},y=(t,e)=>{if(confirm("هل أنت متأكد من حذف المهمة؟")===!1)return;const a=o("tasks");a.splice(e,1),i("tasks",a),r(a)},h=t=>{t.preventDefault();const e=p.value;if(!e)return;const s={value:e,isCompleted:!1},a=o("tasks")||[];a.push(s),i("tasks",a),r(a)},i=(t,e)=>{localStorage.setItem(t,JSON.stringify(e))},E=()=>{o("darkModeFlag")&&g(),r(o("tasks"))},S=()=>{d.innerHTML=`<li class='EmptyList'>
        <img class='EmptyList__img' src="./assets/icon-empty.svg" alt="list is empty" />
        <p>قائمة المهام فارغة</p>
      </li>`},r=t=>{t?.length?(v(t),b()):S()},m=(t,e)=>{const s=o("tasks");t.currentTarget.parentElement.classList.toggle("TaskList__taskContent--isActive"),s[e].isCompleted=!s[e].isCompleted,i("tasks",s),r(s)},b=()=>{_().forEach((t,e)=>{t.addEventListener("click",s=>y(s,e))}),T().forEach((t,e)=>{t.addEventListener("click",s=>m(s,e)),t.addEventListener("keydown",s=>s.key==="Enter"&&m(s,e))})},A=()=>{L.addEventListener("click",g),f.addEventListener("click",h),u.addEventListener("click",()=>{d.classList.toggle("TaskList__list--hideCompleted"),u.classList.toggle("TaskList__link--isActive")})};E();A();
